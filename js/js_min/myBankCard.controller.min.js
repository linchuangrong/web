/*! yiqi_web 2016-12-30 */
!function(){"use strict";function a(a,b,c){function d(b){f.deleteCardId=b;var c={alertDialogTitle:"确定删除银行卡吗？删除之后不可恢复，请谨慎操作！",alertDialogConfirm:f.alertDialogConfirm,alertDialogCancel:null,alertDialogCancelButton:!0};a.$broadcast("public.showAlertDialog",c)}function e(){a.$broadcast("public.hide",[]);var d={username:a.userInfo.user_name,id:f.deleteCardId};a.$broadcast("public.show",["loading_panel"]),b.deleteBank(d).success(function(b){try{200!=b.ret?window.showAutoDialog(b.msg):2e4==b.data.code?(window.showAlertTip(b.data.msg),c.reload()):window.showAutoDialog(b.data.msg)}catch(a){}finally{a.$broadcast("public.hide",["loading_panel"])}})}a.title="帐户设置-管理银行卡";var f=this;f.bankArray=[],f.deleteCardId="",f.showAlertDialog=d,f.alertDialogConfirm=e;var g={id:a.userInfo.id,username:a.userInfo.user_name};b.getBankList(g).success(function(a){200!=a.ret?window.showAutoDialog(a.msg):2e4==a.data.code?f.bankArray=a.data.list:window.showAutoDialog(a.data.msg)})}app.addController("myBankCardController",a),a.$inject=["$rootScope","personalService","$state"]}();