/*! yiqi_web 2016-12-30 */
!function(){"use strict";function a(a,b,c,d,e){function f(){var c={username:a.userInfo.user_name,user_id:a.userInfo.id,pageSize:i.pageParams.pageSize,current:i.pageParams.current,type:1};b.getFocusSponsorList(c).success(function(a){return 200!=a.ret?(window.showAutoDialog(a.msg),!1):void(2e4==a.data.code?(i.sponsorArray=a.data.list,i.pageParams.page_count=a.data.page_count,i.loaded=!0):window.showAutoDialog(a.data.msg))})}function g(){return function(a){parseInt(a)>0&&parseInt(a)<=i.pageParams.page_count?(i.pageParams.current=parseInt(a),i.getFocusSponsorList(),angular.element(c).scrollTop(0)):console.log("输入非法")}}function h(b){if(!i.flag.cancelFocusFlag)return!1;var c={user_id:a.userInfo.id,sponsor_id:b,username:a.userInfo.user_name};i.flag.cancelFocusFlag=!1,d.getSponsorFocus(c).success(function(a){try{200!=a.ret?window.showAutoDialog(a.msg):2e4==a.data.code?(window.showAlertTip(a.data.msg),e.reload()):window.showAlertTip(a.data.msg)}catch(a){}finally{i.flag.cancelFocusFlag=!0}})}a.title="我的关注";var i=this;i.pageParams={showPage:5,pageSize:10,current:1,page_count:1,pageChange:g},i.sponsorArray=[],i.flag={cancelFocusFlag:!0},i.getFocusSponsorList=f,i.cancelFocus=h,function(){i.getFocusSponsorList()}()}app.import("/app/Tpl/web/js/directive/pagebar.directive.js","pagebar.directive"),app.import("/app/Tpl/web/js/service/service_min/sponsor.service.min.js","sponsor.service"),app.addController("concernController",a),a.$inject=["$rootScope","personalService","$window","sponsorService","$state"]}();