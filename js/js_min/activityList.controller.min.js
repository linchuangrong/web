/*! yiqi_web 2016-12-31 */
!function(){"use strict";function a(a,b,c,d,e){function f(){laydate({elem:"#selectDateInput",istime:!1,format:"YYYY-MM-DD",isclear:!1,istoday:!1,choose:function(b){a.$apply(function(){j.selectDateInput=b,j.searchForm.time=b,j.getActivityList()})}})}function g(){var a={deal_type:1,pageSize:j.pageParams.pageSize,current:j.pageParams.current,address:j.searchForm.address,cate:j.searchForm.cate,keyword:e.keyword&&angular.element("#search-input").val()?e.keyword:"",start_time:d.getTimeStamp(j.searchForm.time).startTimeStamp,end_time:d.getTimeStamp(j.searchForm.time).endTimeStamp};c.getActivityList(a).success(function(a){return 200!=a.ret?(window.showAutoDialog(a.msg),!1):void(2e4==a.data.code?(j.activityListArray=a.data.list,j.pageParams.page_count=a.data.page_count):window.showAutoDialog(a.data.msg))})}function h(){return function(a){parseInt(a)>0&&parseInt(a)<=j.pageParams.page_count?(j.pageParams.current=parseInt(a),j.getActivityList(),angular.element(b).scrollTop(0)):console.log("输入非法")}}function i(a,b){j.searchForm[a]=b,j.pageParams.current=1,j.getActivityList()}angular.element(b).scrollTop(0),a.title="活动中心";var j=this;j.searchForm={address:"",cate:"",time:""},j.pageParams={showPage:5,pageSize:10,current:1,page_count:1,pageChange:h},j.activityListArray=[],j.activityTypeArray=[],j.rightListArray=["example-slide-1.jpg","example-slide-2.jpg","example-slide-3.jpg","example-slide-4.jpg"],j.getActivityList=g,j.setSelectActive=i,j.showDate=f,function(){j.searchForm.address=e.address,j.searchForm.cate=e.cate,j.searchForm.time=e.time,j.getActivityList()}()}app.import("/app/Tpl/web/js/service/service_min/public.service.min.js","public.service"),app.import("/app/Tpl/web/js/directive/pagebar.directive.js","pagebar.directive"),app.import("/app/Tpl/web/js/service/service_min/activity.service.min.js","activity.service"),app.addController("activityListController",a),a.$inject=["$rootScope","$window","activityService","publicService","$stateParams"]}();