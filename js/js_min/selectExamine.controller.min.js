/*! yiqi_web 2016-12-30 */
!function(){"use strict";function a(a,b,c,d){function e(a){j.selectType=a}function f(a){j.selectPanel=a}function g(){if(!a.userInfo.id)return window.showAutoDialog("请先登录"),!1;var b={user_id:a.userInfo.id,type:j.selectType.id,template:j.selectPanel.id};a.$broadcast("public.show",["loading_panel"]),j.flag.getReviewPriceFlag=!1,c.getReviewPrice(b).success(function(b){try{200!=b.ret?window.showAutoDialog(b.msg):2e4==b.data.code?(j.price=b.data.price,j.alert_dialog=!0):window.showAutoDialog(b.data.msg)}catch(a){}finally{a.$broadcast("public.hide",["loading_panel"]),j.flag.getReviewPriceFlag=!0}})}function h(){if(!a.userInfo.id)return window.showAutoDialog("请先登录"),!1;if(!j.flag.setReviewOrderFlag)return!1;var b={user_id:a.userInfo.id,type:j.selectType.id,template:j.selectPanel.id};a.$broadcast("public.show",["loading_panel"]),j.flag.setReviewOrderFlag=!1,c.setReviewOrder(b).success(function(b){try{200!=b.ret?window.showAutoDialog(b.msg):2e4==b.data.code?"0"==j.selectType.id?d.go("payMoney",{id:b.data.order_info.order_sn,price:b.data.order_info.price,num:"1",Project_type:"1",url:"personal.myReview"}):d.go("payMoney",{id:b.data.order_info.order_sn,price:b.data.order_info.price,num:"1",Project_type:"1",url:"personal.myEstimate"}):window.showAutoDialog(b.data.msg)}catch(a){}finally{a.$broadcast("public.hide",["loading_panel"]),j.flag.setReviewOrderFlag=!0,j.alert_dialog=!1}})}function i(){j.alert_dialog=!1}angular.element(b).scrollTop(0),a.title="选择评审、评估模板";var j=this;j.price="30",j.typeArray=[{id:"0",name:"评审"},{id:"1",name:"评估"}],j.panelArray=[{id:"1",name:"模板1"},{id:"2",name:"模板2"},{id:"3",name:"模板3"}],j.selectType=j.typeArray[0],j.selectPanel=j.panelArray[0],j.alert_dialog=!1,j.flag={getReviewPriceFlag:!0,setReviewOrderFlag:!0},j.setSelectType=e,j.setSelectPanel=f,j.showDialog=g,j.alertDialogConfirm=h,j.alertDialogCancel=i}app.import("/app/Tpl/web/js/service/service_min/examine.service.min.js","examine.service"),app.addController("selectExamineController",a),a.$inject=["$rootScope","$window","examineService","$state"]}();