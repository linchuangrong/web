/*! yiqi_web 2016-12-30 */
!function(){"use strict";function a(a,b,c){function d(){if(0==e.flag.submitFlag)return!1;var d={id:a.userInfo.id,username:a.userInfo.user_name,company_user:e.setSponsorForm.company_user,company_desc:e.setSponsorForm.company_desc,company_email:e.setSponsorForm.company_email,company_phone:e.setSponsorForm.company_phone,company:e.setSponsorForm.company,head_image:e.setSponsorForm.head_image,verify_coder:e.setSponsorForm.verify_coder};a.$broadcast("public.show",["loading_panel"]),e.flag.submitFlag=!1,c.setSponsor(d).success(function(c){try{if(200!=c.ret)return window.showAutoDialog(c.msg),!1;2e4==c.data.code?(window.showAutoDialog(c.data.msg),b.reload()):window.showAutoDialog(c.data.msg)}catch(a){}finally{a.$broadcast("public.hide",["loading_panel"]),e.flag.submitFlag=!0}})}a.title="帐户设置-主办方";var e=this;return 0!=a.userInfo.identity_conditions?(window.showAlertTip(["您不是主办方，无权限进入主办方页面",3e3]),b.go("personal.home"),!1):2!=a.userInfo.is_investor?(window.showAlertTip(["请您先进行企业认证",3e3]),b.go("personal.safe"),!1):(e.setSponsorForm={company_user:a.userInfo.company_user,company_desc:a.userInfo.company_desc,company_email:a.userInfo.company_email,company_phone:a.userInfo.company_phone,company:a.userInfo.company,head_image:a.userInfo.head_image,verify_coder:a.userInfo.verify_coder},e.flag={submitFlag:!0},void(e.submit=d))}app.import("/app/Tpl/web/js/directive/imgUpload.directive.js","imgUpload.directive"),app.addController("sponsorController",a),a.$inject=["$rootScope","$state","personalService"]}();