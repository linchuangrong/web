/*! yiqi_web 2016-12-30 */
!function(){"use strict";function a(a,b,c){function d(){var b=20;return a.userInfo.mobile&&(b+=20),a.userInfo.email&&(b+=20),a.userInfo.paypassword&&(b+=20),2!=a.userInfo.identify_status&&2!=a.userInfo.is_investor||(b+=20),b<=40?f.gradeText="低":60==b?f.gradeText="中":b>60&&(f.gradeText="高"),b}function e(){return!!f.flag.bindPhoneFlag&&(a.$broadcast("public.show",["loading_panel"]),f.flag.bindPhoneFlag=!1,void b.wxBindPhone(f.bindPhoneForm).success(function(b){try{200!=b.ret?window.showAutoDialog(b.msg):2e4==b.data.code?(window.showAutoDialog(b.data.msg),c.reload()):window.showAutoDialog(b.data.msg)}catch(a){}finally{a.$broadcast("public.hide",["loading_panel"]),f.flag.bindPhoneFlag=!0}}))}a.title="个人中心";var f=this;f.gradeText="低",f.showBindPhonePanel=!1,f.bindPhoneForm={user_id:a.userInfo.id,mobile:"",password:"",verify_coder:""},f.flag={bindPhoneFlag:!0},f.getGrade=d,f.bindPhoneSubmit=e,function(){f.getGrade(),"3"!=a.userInfo.identity_conditions||a.userInfo.mobile||(f.showBindPhonePanel=!0)}()}app.import("/app/Tpl/web/js/service/service_min/personal.service.min.js","personal.service"),app.addController("personalController",a),a.$inject=["$rootScope","personalService","$state"]}();