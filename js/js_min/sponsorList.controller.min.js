/*! yiqi_web 2016-12-30 */
!function(){"use strict";function a(a,b,c,d,e){function f(){var a={pageSize:j.pageParams.pageSize,current:j.pageParams.current,select_type:j.searchForm.select_type,orderBy:j.searchForm.orderBy,sort:j.searchForm.sort,keyword:e.keyword&&angular.element("#search-input").val()?e.keyword:""};c.getSponsorList(a).success(function(a){return 200!=a.ret?(window.showAutoDialog(a.msg),!1):void(2e4==a.data.code?(j.sponsorArray=a.data.list,j.pageParams.page_count=a.data.page_count):window.showAutoDialog(a.data.msg))})}function g(){return function(a){parseInt(a)>0&&parseInt(a)<=j.pageParams.page_count?(j.pageParams.current=parseInt(a),j.getSponsorList(),angular.element(b).scrollTop(0)):console.log("输入非法")}}function h(a,b,c){j.searchForm[b]=c;var d=angular.element(a.target).find(".iconfont");d&&(d.hasClass("up")?(d.removeClass("up"),j.searchForm.sort="DESC"):(d.addClass("up"),j.searchForm.sort="ASC")),j.pageParams.current=1,j.getSponsorList()}function i(b){var e={user_id:a.userInfo.id,sponsor_id:b,username:a.userInfo.user_name};c.getSponsorFocus(e).success(function(a){200!=a.ret?window.showAutoDialog(a.msg):2e4==a.data.code?(window.showAlertTip(a.data.msg),d.reload()):window.showAlertTip(a.data.msg)})}angular.element(b).scrollTop(0),a.title="主办方列表";var j=this;j.sponsorArray=[],j.pageParams={showPage:5,pageSize:12,current:1,page_count:1,pageChange:g},j.searchForm={select_type:"",sort:"ASC",orderBy:""},j.getSponsorList=f,j.setSelectActive=h,j.focusSponsor=i,function(){j.getSponsorList()}()}app.import("/app/Tpl/web/js/directive/pagebar.directive.js","pagebar.directive"),app.import("/app/Tpl/web/js/service/service_min/sponsor.service.min.js","sponsor.service"),app.addController("sponsorListController",a),a.$inject=["$rootScope","$window","sponsorService","$state","$stateParams"]}();