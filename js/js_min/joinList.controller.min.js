/*! yiqi_web 2016-12-30 */
!function(){"use strict";function a(a,b,c,d){function e(){return!!f.flag.submitFlag&&(f.submitForm.user_id?(a.$broadcast("public.show",["loading_panel"]),f.flag.submitFlag=!1,void c.joinCompanyList(f.submitForm).success(function(b){try{if(200!=b.ret)return window.showAutoDialog(b.msg),!1;2e4==b.data.code?(window.showAutoDialog(b.data.msg),d.go("companyList")):window.showAutoDialog(b.data.msg)}catch(a){}finally{f.flag.submitFlag=!0,a.$broadcast("public.hide",["loading_panel"])}})):(window.showAlertTip("请先登录"),!1))}a.title="加入名录";var f=this;return a.userInfo.id?(f.submitForm={user_id:a.userInfo.id,roll_name:"",roll_address:"",roll_contact:"",roll_phone:"",roll_email:"",roll_image:"",roll_certificate:"",roll_number:""},f.flag={submitFlag:!0},void(f.submit=e)):(d.go("login"),!1)}app.import("/app/Tpl/web/js/service/service_min/companyList.service.min.js","companyList.service"),app.import("/app/Tpl/web/js/directive/imgUpload.directive.js","imgUpload.directive"),app.addController("joinListController",a),a.$inject=["$rootScope","$stateParams","companyListService","$state"]}();