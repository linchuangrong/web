/*! yiqi_web 2016-12-30 */
!function(){"use strict";function a(a,b,c,d,e){function f(){c.getCrowdFundTypeList().success(function(a){return 200!=a.ret?(window.showAutoDialog(a.msg),!1):void(2e4==a.data.code?j.crowdFundTypeArray=a.data.list:window.showAutoDialog(a.data.msg))})}function g(){j.showList=!1;var b={deal_type:"3",pageSize:j.pageParams.pageSize,current:j.pageParams.current,welfare_cate:j.searchForm.welfare_cate,process:j.searchForm.process,sort:j.searchForm.sort,orderBy:j.searchForm.orderBy,keyword:e.keyword&&angular.element("#search-input").val()?e.keyword:""};a.$broadcast("public.show",["loading_panel"]),c.getCrowdFundList(b).success(function(b){try{if(200!=b.ret)return window.showAutoDialog(b.msg),!1;2e4==b.data.code&&(j.crowdFundArray=b.data.list,j.pageParams.page_count=b.data.page_count)}catch(a){}finally{d(function(){j.showList=!0,a.$broadcast("public.hide",["loading_panel"])},500)}})}function h(){return function(a){parseInt(a)>0&&parseInt(a)<=j.pageParams.page_count?(j.pageParams.current=parseInt(a),j.getCrowdFundList(),angular.element(b).scrollTop(0)):console.log("输入非法")}}function i(a,b,c){j.searchForm[b]=c;var d=angular.element(a.target).find(".iconfont");d&&(d.hasClass("up")?(d.removeClass("up"),j.searchForm.orderBy="DESC"):(d.addClass("up"),j.searchForm.orderBy="ASC")),j.pageParams.current=1,j.getCrowdFundList()}angular.element(b).scrollTop(0),a.title="众筹中心";var j=this;j.selectType="全部",j.selectProgress="全部",j.selectSort="全部",j.crowdFundTypeArray=[],j.crowdFundArray=[],j.searchForm={welfare_cate:"",process:"",sort:"",orderBy:"ASC"},j.pageParams={showPage:5,pageSize:12,current:1,page_count:1,pageChange:h},j.showList=!0,j.getCrowdFundTypeList=f,j.getCrowdFundList=g,j.setSelectActive=i,function(){j.getCrowdFundTypeList(),j.getCrowdFundList()}()}app.import("/app/Tpl/web/js/directive/backgroundLazyLoad.directive.js","backgroundLazyLoad.directive"),app.import("/app/Tpl/web/js/directive/pagebar.directive.js","pagebar.directive"),app.import("/app/Tpl/web/js/service/service_min/crowdFund.service.min.js","crowdFund.service"),app.addController("crowdFundListController",a),a.$inject=["$rootScope","$window","crowdFundService","$timeout","$stateParams"]}();